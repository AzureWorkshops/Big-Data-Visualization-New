<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Setup Azure Data Factory - Big Data and Visualization</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="description" content="Azure Workshops" />
    <meta name="author" content="Marty Pittman">
    <link rel="icon" href="" type="image/x-icon">
    
    <!-- Font -->
    
    <!-- CSS -->
    <link href='../themes/azure/css/vs.css' rel='stylesheet' type='text/css'><link href='../themes/azure/css/theme.css' rel='stylesheet' type='text/css'><link href='../themes/azure/css/theme-white.min.css' rel='stylesheet' type='text/css'>
</head>
<body class="">

        <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2 col-md-offset-1">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="/">Azure Workshops</a>
                    </div>
                </div>

                <div class="col-md-8">
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <!--
                            <li><a href="about.html">About</a></li>
                            <li><a href="contact.html">Contact</a></li>
                            -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

<div id="content-wrapper" class="container-fluid">
    <div class="row hidden-print">
        <div class="col-md-10 col-md-offset-1 breadcrumbs">
            <a href="../index.html">Big Data and Visualization</a> / <a href="../Courseware/Build_a_ML_Model.html">Courseware</a> / <a href="../Courseware/Setup Azure Data Factory.html">Setup Azure Data Factory</a>        </div>
    </div>
    <div class="row">
        <div class="col-md-2 col-md-offset-1 hidden-print">
            <div data-spy="affix" data-offset-top="100">
                <!-- Navigation -->
                <ul class='Nav'><li class='Nav__item '><a href="../Overview.html">Overview</a></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Getting Started</a><ul class='Nav'><li class='Nav__item '><a href="../Getting_Started/Requirements.html">Requirements</a></li><li class='Nav__item '><a href="../Getting_Started/Azure_Registration.html">Azure Registration</a></li><li class='Nav__item '><a href="../Getting_Started/Setup.html">Setup</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Courseware</a><ul class='Nav'><li class='Nav__item '><a href="../Courseware/Build_a_ML_Model.html">Build a ML Model</a></li><li class='Nav__item Nav__item--active'><a href="../Courseware/Setup Azure Data Factory.html">Setup Azure Data Factory</a></li><li class='Nav__item '><a href="../Courseware/Develop_a_data_factory_pipeline_for_data_movement.html">Develop a data factory pipeline for data movement</a></li><li class='Nav__item '><a href="../Courseware/Operationalize_ML_Scoring_with_Azure_ML_and_Data_Factory.html">Operationalize ML Scoring with Azure ML and Data Factory</a></li><li class='Nav__item '><a href="../Courseware/Summarize_data_using_HDInsight_Spark.html">Summarize data using HDInsight Spark</a></li><li class='Nav__item '><a href="../Courseware/Visualizing_in_PowerBI_Desktop.html">Visualizing in PowerBI Desktop</a></li><li class='Nav__item '><a href="../Courseware/Deploy_Intelligent_Web_App.html">Deploy Intelligent Web App</a></li><li class='Nav__item '><a href="../Courseware/Cleanup.html">Cleanup</a></li></ul></li></ul>
                <div class="Links">
                    
                    <div class="pdf-link">
                        <hr />
                        <a href="../pdf/Big Data and Visualization.pdf"><i class="fa fa-file-pdf-o" aria-hidden="true"></i> <span>Download PDF</span></a>
                    </div>

                                            <hr/>
                        <div class="Twitter">
                                                            <iframe allowtransparency="true" frameborder="0" scrolling="no" style="width:162px; height:20px;" src="https://platform.twitter.com/widgets/follow_button.html?screen_name=azureworkshops&amp;show_count=false"></iframe>
                                <br />
                                <br />
                                                    </div>
                                    </div>
            </div>
        </div>
        <div class="col-md-6">
            <article class="Page">
    <div class="pageHeader">
        <h1>Setup Azure Data Factory</h1>
                    <div class="date"> Friday, August 24, 2018 11:57 AM</div>
            </div>
    <div class="copy">
        <h2 id="page_Exercise-2-Setup-Azure-Data-Factory">Exercise 2: Setup Azure Data Factory</h2>
<p><strong>Duration:</strong> 20 mins</p>
<p><strong>Synopsis:</strong> In this exercise, attendees will create a baseline environment for Azure Data Factory development for further operationalization of data movement and processing. You will create a Data Factory service, and then install the Integration Runtime which is the agent that facilitates data movement from on-premises to Microsoft Azure.</p>
<h3 id="page_Task-1-Connect-to-the-Lab-VM"><strong>Task 1:</strong> Connect to the Lab VM</h3>
<ol>
<li>
<p>NOTE: If you are already, connected to your Lab VM, skip to Task 2.</p>
</li>
<li>
<p>From the left side menu in the Azure portal, click on <strong>Resource groups</strong>, then enter your resource group name into the filter box, and select it from the list.</p>
</li>
</ol>
<img src="../images/adf_select_resource_group.jpg" class="block"/> 
<ol start="3">
<li>Next, select your lab virtual machine from the list.</li>
</ol>
<img src="../images/adf_select_lab_vm.jpg" class="block"/>
<ol start="4">
<li>On your Lab VM blade, select <strong>Connect</strong> from the top menu.</li>
</ol>
<img src="../images/adf_connect_lab_vm.jpg" class="block"/>
<ol start="5">
<li>
<p>Download and open the RDP file.</p>
</li>
<li>
<p>Select <strong>Connect</strong>, and enter the following credentials:</p>
<ul>
<li>User name: demouser</li>
<li>Password: Password.1!!</li>
</ul>
</li>
</ol>
<h3 id="page_Task-2-Download-and-stage-data-to-be-processed"><strong>Task 2:</strong> Download and stage data to be processed</h3>
<ol>
<li>
<p>Once you have logged into the Lab VM, open a web browser. A shortcut for Chrome is on the desktop.</p>
</li>
<li>
<p>Download the AdventureWorks sample data from http://bit.ly/2zi4Sqa.</p>
</li>
<li>
<p>Extract it to a new folder called <strong>C:\Data</strong>.</p>
</li>
</ol>
<h3 id="page_Task-3-Install-and-configure-Azure-Data-Factory-Integration-Runtime-on-the-Lab-VM"><strong>Task 3:</strong> Install and configure Azure Data Factory Integration Runtime on the Lab VM</h3>
<ol>
<li>To download the latest version of Azure Data Factory Integration Runtime, go to https://www.microsoft.com/en-us/download/details.aspx?id=39717</li>
</ol>
<img src="../images/adf_download_integration_runtime.jpg" class="block"/>
<ol start="2">
<li>Select <strong>Download</strong>, then choose the download you want from the next screen.</li>
</ol>
<img src="../images/adf_integration_runtime_choose_download.jpg" class="block"/>
<ol start="3">
<li>
<p>Run the installer, once downloaded.</p>
</li>
<li>
<p>When you see the following screen, select <strong>Next</strong>.</p>
</li>
</ol>
<img src="../images/adf_setup_integration_runtime_language.jpg" class="block"/>
<ol start="5">
<li>Check the box to accept the terms and select <strong>Next</strong>.</li>
</ol>
<img src="../images/adf_integration_runtime_accept_terms.jpg" class="block"/>
<ol start="6">
<li>Accept the default Destination Folder, and select <strong>Next</strong>.</li>
</ol>
<img src="../images/adf_integration_runtime_destination_folder.jpg" class="block"/>
<ol start="7">
<li>Select <strong>Install</strong> to complete the installation.</li>
</ol>
<img src="../images/adf_integration_runtime_click_install.jpg" class="block"/>
<ol start="8">
<li>Select <strong>Finish</strong> once the installation has completed.</li>
</ol>
<img src="../images/adf_integration_runtime_finish.jpg" class="block"/>
<ol start="9">
<li>After clicking Finish, the following screen will appear. Keep it open for now. We will come back to this screen once we have provisioned the Data Factory in Azure, and obtain the gateway key so we can connect Data Factory to this “on-premises” server</li>
</ol>
<img src="../images/adf_integration_runtime_configure_page_initial.jpg" class="block"/>
<h3 id="page_Task-4-Create-an-Azure-Data-Factory"><strong>Task 4:</strong> Create an Azure Data Factory</h3>
<ol>
<li>
<p>Launch a new browser window, and navigate to the Azure portal (https://portal.azure.com). Once prompted, log in with your Microsoft Azure credentials. If prompted, choose whether your account is an organization account or a Microsoft account. This will be based on which account was used to provision your Azure subscription that is being used for this lab.</p>
<ul>
<li>
<strong>Note:</strong> You may need to launch an InPrivate/Incognito session in your browser if you have multiple Microsoft accounts.</li>
</ul>
</li>
<li>
<p>From the top left corner of the Azure portal, select <strong>+ Create a resource</strong>, and select <strong>Data + Analytics</strong>, then select <strong>Data Factory</strong>.</p>
</li>
</ol>
<img src="../images/adf_select_new_data_factory.jpg" class="block"/>
<ol start="3">
<li>On the New data factory blade, enter the following:
<ul>
<li>Name: Provide a name, such as bigdata-adf</li>
<li>Subscription: Select your subscription</li>
<li>Resource Group: Choose Use existing, and select the Resource Group you created when deploying the lab prerequisites</li>
<li>Version: Select V1</li>
<li>Location: Select one of the available locations from the list nearest the one used by your Resource Group</li>
<li>Select <strong>Create</strong>
</li>
</ul>
</li>
</ol>
<img src="../images/adf_create_new_data_factory.jpg" class="block"/>
<ol start="4">
<li>
<p>The ADF deployment will take several minutes.</p>
</li>
<li>
<p>Once the deployment is completed, you will receive a notification that it succeeded.</p>
</li>
</ol>
<img src="../images/adf_deployment_succeeded.jpg" class="block"/>
<ol start="6">
<li>
<p>Select the <strong>Go to resource button</strong>, to navigate to the newly created Data Factory.</p>
</li>
<li>
<p>On the Data Factory blade, select <strong>Author and Deploy</strong> under Actions.</p>
</li>
</ol>
<img src="../images/adf_select_author_and_deploy.jpg" class="block"/>
<ol start="8">
<li>Next, select …More, then New integration runtime (gateway).</li>
</ol>
<img src="../images/adf_select_new_integration_runtime.jpg" class="block"/>
<ol start="9">
<li>Enter an Integration runtime name, such as bigdatagateway-[initials], and select <strong>OK</strong>.</li>
</ol>
<img src="../images/adf_enter_integration_runtime_name.jpg" class="block"/>
<ol start="10">
<li>On the Configure screen, copy the key1 value by selecting the Copy button, then select OK.</li>
</ol>
<img src="../images/adf_configure_integration_runtime_copy_key.jpg" class="block"/>
<ol start="11">
<li>
<p><em>Don’t close the current screen or browser session</em>.</p>
</li>
<li>
<p>Go back to the Remote Deskop session of the Lab VM.</p>
</li>
<li>
<p>Paste the <strong>key1</strong> value into the box in the middle of the Microsoft Integration Runtime Configuration Manager screen.</p>
</li>
</ol>
<img src="../images/adf_register_integration_runtime_past_key.jpg" class="block"/>
<ol start="14">
<li>
<p>Select <strong>Register</strong>.</p>
</li>
<li>
<p>It will take a minute or two to register. If it takes more than a couple of minutes, and the screen does not respond or returns an error message, close the screen by clicking the <strong>Cancel</strong> button.</p>
</li>
<li>
<p>The next screen will be New Integration Runtime (Self-hosted) Node. Select <strong>Finish</strong>.</p>
</li>
</ol>
<img src="../images/adf_new_integration_runtime_select_finish.jpg" class="block"/>
<ol start="17">
<li>You will then get a screen with a confirmation message.</li>
</ol>
<img src="../images/adf_new_integration_runtime_confirmation.jpg" class="block"/>
<ol start="18">
<li>Select the <strong>Launch Configuration Manager</strong> button to view the connection details.</li>
</ol>
<img src="../images/adf_new_integration_runtime_view_connection_details.jpg" class="block"/>
<ol start="19">
<li>
<p>You can now return to the Azure portal, and click <strong>OK</strong> twice to complete the Integration Runtime setup.</p>
</li>
<li>
<p>You can view the Integration Runtime by expanding Integration runtimes on the Author and Deploy blade.</p>
</li>
</ol>
<img src="../images/adf_view_integration_runtime.jpg" class="block"/>
<ol start="21">
<li>Close the Author and Deploy blade, to return to the the Azure Data Factory blade. Leave this open for the next exercise.</li>
</ol>
    </div>

            <nav class="hidden-print">
            <ul class="pager">
                                    <li class=pager-prev><a href="../Courseware/Build_a_ML_Model.html">Previous</a></li>
                                                    <li class=pager-next><a href="../Courseware/Develop_a_data_factory_pipeline_for_data_movement.html">Next</a></li>            </ul>
        </nav>
    </article>
        </div>
        <div class="col-md-2 hidden-print">
            <div class="article-links" data-spy="affix" data-offset-top="100">
                
            </div>
        </div>
    </div>
</div>

    <div id="footer" class="container-fluid hidden-print">
        <div class="row">
            <div class="col-md-2 col-md-offset-1">
            
            </div>
            <div class="col-md-8" style="text-align:right;">
            This work is licensed under a Creative Commons Attribution 4.0 International License.
            </div>
        </div>
    </div>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- JS -->
    
    <script src="../themes/azure/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="../themes/azure/js/theme.js"></script>

</body>
</html>
